(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports={NewMovie:"NewMovie__NewMovie__1ataP",col25:"NewMovie__col25__PpVtZ",col75:"NewMovie__col75__2xdNK",row:"NewMovie__row__2qat-","col-25":"NewMovie__col-25__26OVn","col-75":"NewMovie__col-75__pIZRq"}},14:function(e,t,a){e.exports={SideDrawer:"SideDrawer__SideDrawer__21TuB",Open:"SideDrawer__Open__1pVYR",Close:"SideDrawer__Close__3Yv1l",Logo:"SideDrawer__Logo__3TkPv"}},17:function(e,t,a){e.exports={Toolbar:"Toolbar__Toolbar__2JJW-",Logo:"Toolbar__Logo__1efBD",DesktopOnly:"Toolbar__DesktopOnly__WADUd"}},19:function(e,t,a){e.exports={NavigationItem:"NavigationItem__NavigationItem__23bcu",active:"NavigationItem__active__2zJdO"}},20:function(e,t,a){e.exports={Movies:"Movies__Movies__2NJyA",WelcomeText:"Movies__WelcomeText__3dljT"}},28:function(e,t,a){e.exports={Content:"Layout__Content__LhJtv"}},29:function(e,t,a){e.exports=a.p+"static/media/czu-movie-dbs.571de794.png"},30:function(e,t,a){e.exports={Logo:"Logo__Logo__19WaN"}},31:function(e,t,a){e.exports={NavigationItems:"NavigationItems__NavigationItems___yd_d"}},33:function(e,t,a){e.exports={Movie:"Movie__Movie__2KHwz"}},34:function(e,t,a){e.exports={MovieDetail:"MovieDetail__MovieDetail__3tfRt"}},35:function(e,t,a){e.exports={Login:"Login__Login__2N7eR"}},36:function(e,t,a){e.exports={SearchItem:"SearchItem__SearchItem__1_La7"}},37:function(e,t,a){e.exports={DrawerToggle:"DrawerToggle__DrawerToggle__26to0"}},38:function(e,t,a){e.exports={Backdrop:"Backdrop__Backdrop__efy1y"}},39:function(e,t,a){e.exports={Footer:"Footer__Footer__268PT"}},44:function(e,t,a){e.exports=a(90)},49:function(e,t,a){},51:function(e,t,a){e.exports={App:"App__App__1o-Fp","App-logo":"App__App-logo__3JCPt","App-logo-spin":"App__App-logo-spin__RvI1J","App-header":"App__App-header__3iH8L","App-link":"App__App-link__13fTZ"}},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),i=a.n(o),l=(a(49),a(3)),c=a(4),s=a(6),u=a(5),m=a(7),p=(a(51),a(93)),d=a(28),v=a.n(d),h=a(17),_=a.n(h),E=a(29),g=a.n(E),f=a(30),y=a.n(f),w=function(){return r.a.createElement("div",{className:y.a.Logo},r.a.createElement("img",{src:g.a,alt:"Dummy logo"}))},b=a(31),k=a.n(b),N=a(19),O=a.n(N),j=a(91),S=function(e){return r.a.createElement("li",{className:O.a.NavigationItem,onClick:e.unsuported},r.a.createElement(j.a,{activeClassName:O.a.active,to:{pathname:e.link}},e.children))},D=a(42),T=a(41),M=a(92),A=a(13),x=a.n(A),C=a(33),L=a.n(C),I=a(32),P=function(e){return r.a.createElement("article",{className:L.a.Movie},r.a.createElement("h1",null,e.title),r.a.createElement("div",null,e.overview,r.a.createElement("p",null,r.a.createElement("strong",null,"Popularity: "),e.popularity)),r.a.createElement(I.a,{to:"/movie-detail/"+e.id},"Details"))},F=a(20),H=a.n(F),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[{id:1,title:"Harry Potter a Kamen Mudrcu",overview:"Popis k Harrymu",popularity:300},{id:2,title:"Vykoupeni z veznice Shawshank",overview:"Popis k vykoupeni",popularity:400}]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;$.key&&x.a.get("https://api.themoviedb.org/3/movie/now_playing?api_key="+$.key+"&language=en-US&page=1&region=us").then(function(t){e.setState({movies:t.data.results}),console.log(t.data)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state.movies.map(function(e){return r.a.createElement(P,{key:e.id,title:e.title,overview:e.overview,popularity:e.popularity,id:e.id})});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:H.a.WelcomeText},r.a.createElement("h1",null,"Welcome to The movie database!"),r.a.createElement("h4",null,"This site is an university project written in React.js. For the last movie releases and other information is used ",r.a.createElement("a",{href:"http://themoviedb.org"},"themoviedb.org")," site API.")),r.a.createElement("section",{className:H.a.Movies},e))}}]),t}(n.Component),z=a(40),W=a(34),J=a.n(W),V=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={detail:null,mocked_data:[{id:1,original_title:"Harry Potter",overview:"Obecny text o Harrym",popularity:99,backdrop_path:"/wfnMt6LGqYHcNyOfsuusw5lX3bL.jpg"},{id:2,original_title:"Vykoupeni z veznice Shawshank",overview:"Obecny text o Shawshank",popularity:99,backdrop_path:"/j9XKiZrVeViAixVRzCta7h1VU9W.jpg"}]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.match.params.id&&$.key)(!this.state.detail||this.state.detail&&this.props.match.params.id!==this.state.detail.id)&&x.a.get("https://api.themoviedb.org/3/movie/"+this.props.match.params.id+"?api_key="+$.key+"&language=en-US").then(function(t){e.setState({detail:t.data})});else{var t=Object(z.a)(this.state.mocked_data),a=null;for(var n in t)t[n].id===parseInt(this.props.match.params.id)&&(a=t[n]);this.setState({detail:a})}}},{key:"render",value:function(){var e=r.a.createElement("p",null,"Loading...");return this.state.detail&&(e=r.a.createElement("div",{className:J.a.MovieDetail},r.a.createElement("h1",null,this.state.detail.original_title),r.a.createElement("p",null,r.a.createElement("b",null,"Popularity: ",this.state.detail.popularity)),r.a.createElement("p",null,this.state.detail.overview),r.a.createElement("div",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/"+this.state.detail.backdrop_path,alt:this.state.detail.original_title})))),e}}]),t}(n.Component),B=a(43),U=a(11),q=a.n(U),K=x.a.create({baseURL:"https://czu-movie-dbs.firebaseio.com"}),Z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"Type in the movie title",description:"Type in some movie description",api_key:$.key},a.postDataToServer=function(e){e.preventDefault();var t=Object(B.a)({},a.state);K.post("/newMovie.json",t).then(function(e){console.log(e.status),201===e.status&&alert("Move has been successfully added.")})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:q.a.NewMovie},r.a.createElement("form",{onSubmit:this.postDataToServer},r.a.createElement("div",{className:q.a.row},r.a.createElement("div",{className:q.a.col25},r.a.createElement("label",null,"Title")),r.a.createElement("div",{className:q.a.col75},r.a.createElement("input",{type:"text",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}}))),r.a.createElement("div",{className:q.a.row},r.a.createElement("div",{className:q.a.col25},r.a.createElement("label",null,"Description")),r.a.createElement("div",{className:q.a.col75},r.a.createElement("textarea",{value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}}))),r.a.createElement("div",{className:q.a.row},r.a.createElement("input",{type:"submit",value:"Add movie"}))),r.a.createElement("div",null,r.a.createElement("label",null,"API key is set to: ",this.state.api_key)))}}]),t}(n.Component),Y=a(35),X=a.n(Y),G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:"",redirectToReferrer:!1,api_key:null},a.login=function(){Q.authenticate(function(){a.setState({redirectToReferrer:!0}),$.key=a.state.api_key})},a.handleSubmit=function(e){return e.preventDefault(),a.state.username?a.state.password?"test"!==a.state.username||"test"!==a.state.password?a.setState({error:"Incorrect username or password!"}):(a.login(),a.setState({error:""})):(console.log("handleSubmit, password incorrect"),a.setState({error:"Password is required"})):(console.log("handleSubmit, username incorrect"),a.setState({error:"Username is required"}))},a.dismissError=function(){a.setState({error:""})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.api_key||K.get("/api_key.json").then(function(t){e.setState({api_key:t.data})})}},{key:"render",value:function(){var e=this;return this.state.redirectToReferrer?r.a.createElement(M.a,{to:"/"}):r.a.createElement("div",{className:X.a.Login},r.a.createElement("form",{onSubmit:this.handleSubmit},this.state.error&&r.a.createElement("h3",{"data-test":"error",onClick:this.dismissError},r.a.createElement("button",{onClick:this.dismissError},"\u2716"),this.state.error),r.a.createElement("input",{type:"text",placeholder:"Username",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("input",{type:"submit",value:"Log In"})))}}]),t}(n.Component),$={key:""},Q={isAuthenticated:!1,authenticate:function(e){this.isAuthenticated=!0,setTimeout(e,100)},logout:function(e){this.isAuthenticated=!1,setTimeout(e,100)}},ee=function(e){var t=e.component,a=Object(D.a)(e,["component"]);return r.a.createElement(T.a,Object.assign({},a,{render:function(e){return!0===Q.isAuthenticated?r.a.createElement(t,e):r.a.createElement(M.a,{to:"/login"})}}))},te=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,{path:"/",exact:!0,component:R}),r.a.createElement(T.a,{path:"/czu-movie-dbs",component:R}),r.a.createElement(T.a,{path:"/now_playing",component:R}),r.a.createElement(T.a,{path:"/popular",render:function(){return r.a.createElement("h1",null,"Popular")}}),r.a.createElement(T.a,{path:"/top_rated",render:function(){return r.a.createElement("h1",null,"Top rated")}}),r.a.createElement(ee,{path:"/add_movie",component:Z}),r.a.createElement(T.a,{path:"/movie-detail/:id",component:V}),r.a.createElement(T.a,{path:"/login",component:G}),r.a.createElement(T.a,{path:"/logout",render:function(){return Q.logout(function(){}),$.key="",r.a.createElement(M.a,{to:"/"})}}))}}]),t}(n.Component),ae=function(e){var t=r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{link:"/now_playing"},"Now playing"),r.a.createElement(S,{unsuported:e.unsuported,link:"/popular"},"Popular"),r.a.createElement(S,{unsuported:e.unsuported,link:"/top_rated"},"Top rated"));return t=Q.isAuthenticated?r.a.createElement(r.a.Fragment,null,t,r.a.createElement(S,{link:"/add_movie"},"Add movie"),r.a.createElement(S,{link:"/logout"},"Logout")):r.a.createElement(r.a.Fragment,null,t,r.a.createElement(S,{link:"/login"},"Login")),r.a.createElement("ul",{className:k.a.NavigationItems},t)},ne=a(36),re=a.n(ne),oe=function(){return r.a.createElement("input",{className:re.a.SearchItem,onClick:function(){return alert("This functionality is not supported yet.")},type:"search",onSubmit:function(){return alert("This functionality is not supported yet.")},placeholder:"Input string"})},ie=a(37),le=a.n(ie),ce=function(e){return r.a.createElement("div",{onClick:e.clicked,className:le.a.DrawerToggle},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},se=function(e){return r.a.createElement("header",{className:_.a.Toolbar},r.a.createElement(ce,{clicked:e.openHandler}),r.a.createElement("div",{className:_.a.Logo},r.a.createElement(I.a,{to:"/"},r.a.createElement(w,null))),r.a.createElement(oe,null),r.a.createElement("nav",{className:_.a.DesktopOnly},r.a.createElement(ae,{unsuported:function(){return alert("This feature is not supported yet!")}})))},ue=a(14),me=a.n(ue),pe=a(38),de=a.n(pe),ve=function(e){return e.show?r.a.createElement("div",{className:de.a.Backdrop,onClick:e.clicked}):null},he=function(e){var t=[me.a.SideDrawer,me.a.Close];return e.open&&(t=[me.a.SideDrawer,me.a.Open]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,{show:e.open,clicked:e.closeHandler}),r.a.createElement("div",{className:t.join(" ")},r.a.createElement("div",{className:me.a.Logo},r.a.createElement(w,null)),r.a.createElement("nav",null,r.a.createElement(ae,null))))},_e=a(39),Ee=a.n(_e),ge=function(){return r.a.createElement("div",{className:Ee.a.Footer},r.a.createElement("div",null,"Copyright \xa9 2018 - 2019 pro CZU PEF in Prague"),r.a.createElement("div",null,"Participants:",r.a.createElement("strong",null," Patrik Mlacki "),"|",r.a.createElement("strong",null," Michal Siron "),"|",r.a.createElement("strong",null," Dominik Spiral "),"|",r.a.createElement("strong",null," Michal Snajdr "),"|",r.a.createElement("strong",null," Katerina Mackovikova")))},fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showSideDrawer:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{openHandler:function(){return e.setState({showSideDrawer:!0})}}),r.a.createElement(he,{closeHandler:function(){return e.setState({showSideDrawer:!1})},open:this.state.showSideDrawer}),r.a.createElement("main",{className:v.a.Content},this.props.children),r.a.createElement(ge,null))}}]),t}(n.Component),ye=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(fe,null,r.a.createElement(te,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,2,1]]]);
//# sourceMappingURL=main.1147eb57.chunk.js.map